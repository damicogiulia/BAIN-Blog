---
title: "20.11.2020 Anreicherung von Daten mit lobid-gnd in OpenRefine"
date: 2020-11-25
---

## *Zusatzaufgabe*  


***Aufgabe 1: Reichern Sie die Autorennamen in den DOAJ-Daten um zusätzliche Informationen (z.B. GND-Nummer und Geburtsjahr) aus lobid-gnd an.***

Material: [Anleitung lobig-gnd](https://blog.lobid.org/2018/08/27/openrefine.html), DOAJ-Daten in OpenRefine

Um die Autoren-Daten mit Daten aus der GND anreichern zu können, müssen zunächst die Personen (Autoren) selbst mit der GND abgeglichen werden:

1. Ich splitte zunächste die Spalte mit den Autorennamen: `Authors` > `Edit cells` > `Split multi-valued cells`
2. Nun füge ich den GND-Reconcile-Service hinzu: Spalte `Authors` > `Reconcile` > `Start reconciling` > `Add Standard Service`. Hier gebe ich `https://lobid.org/gnd/reconcile` ein.
3. Nachdem der neue Service hinzugefügt wurde, klicke ich ihn an und danach auf `Individualisierte Person` – wir machen den Abgleich ja für Personendaten. Anschliessend klicke ich `Start reconciling`.
4. Kaffepause – Prozess dauert eine Weile.
5. Nachdem der Abgleich erfolgt ist, kann man erkennen, dass nicht alle Autoren gematchet wurden, also nicht alle Personen einen GND-Eintrag haben bzw. dieser nicht eindeutig zugeordnet werden konnte. Es werden Optionen vorgeschlagen, über die man mit der Maus fahren kann, um weitere Informationen zu erhalten. Alternativ kann man in eine Zelle klicken und auf `Search for match` – auch hier erscheint eine Liste mit vorgeschlagenene GND-Einträgen. Auf diese Weise kann man manuell Matches erstellen. Ich entscheide mich gegen diese Arbeit, da es zu viel Aufwand bereiten würde, die Autoren und Publikationen zu recherchieren.  
![Match von GND-Personendaten]({{site.baseurl}}/images/GND_nicht_erkannt.png)  
<br>
Nachdem die Autoren mit ihren GND-Einträgen abgeglichen wurden, kann man diese nun mit weiteren Daten aus der GND anreichern:

6. Spalte `Authors` > `Edit column` > `Add columns from reconciled values`. Es werden nun in einer Liste Eigenschaften vorgeschlagen, die man aus der GND anreichern könnte. Ich wähle GND-Nummer, Geburtsdatum, Geburtsort. Im Feld rechts erscheint nun eine Preview der angereicherten Daten, die dann in neuen Spalten ausgegeben werden. Diesen Schritt musste ich zwei Mal machen, da mir beim ersten Versuch ein kleiner Fehler unterlaufen ist: Nachdem ich GND-Nummer, Geburtsdatum, Geburtsort ausgewählt habe, hat es in der Preview nichts angezeigt. Ich bin davon ausgegangen, dass die in dr Preview angezeigten Zeilen zufällig alle keine Match hatten. Als ich dann aber die Anreicherung bestätigt hatte, konnte ich auch keine zusätzlichen Spalten im Dokument sehen. Da habe ich bemerkt, dass die facet "unmatched" angeklickt war. Ich wollte also die ungematchten Autoren mit GND-Daten anreichern, was natürlich nicht geht. Ich habe das facet also gelöscht und den Schritt wiederholt. Im Screenshot sieht man Beispieldaten mit den angereicherten Daten:
![Match von GND-Personendaten]({{site.baseurl}}/images/GND_Preview der neuen Spalten.png)  
7. Nach dem Bestätigen der Anreicherung heisst es nochmals warten (Prozess dauert einen Moment).
8. Fertig. Im Ergebnis haben wir 3 neue Spalten (GND-Nummer, Geburtsdatum, Geburtsort), die wir direkt von der GND bezogen haben:  
![Match von GND-Personendaten]({{site.baseurl}}/images/GND_gematchet mit neuen Spalten.png)  









```bash
sudo apt update
sudo apt install composer php php-xml
cd ~
wget https://github.com/vufind-org/vufindharvest/archive/v4.0.1.zip
unzip v4.0.1.zip
cd vufindharvest-4.0.1
composer install
```
<br>
